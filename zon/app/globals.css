@import "tailwindcss";

@plugin "tailwindcss-animate";
@plugin "@tailwindcss/typography";

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }

    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }

    to {
      height: 0;
    }
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer utilities {
  body {
    font-family: Arial, Helvetica, sans-serif;
  }
}

@layer base {
  :root {
    --background: 0 0% 98%;
    /* Zinc-50 */
    --foreground: 240 10% 3.9%;
    /* Zinc-950 */
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 240 5.9% 10%;
    /* Zinc-900 */
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    /* Zinc-100 */
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    /* Zinc-500 */
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    /* Zinc-200 */
    --input: 240 5.9% 90%;
    --ring: 240 10% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;

    /* Retro grid color */
    --grid-color: hsl(240 5.9% 90%);
    /* Zinc-200 */

    /* Feature Card Variables */
    --feature-card-bg: hsl(0 0% 100% / 0.5);
    --feature-card-border: hsl(240 5.9% 90% / 0.6);
    --feature-card-hover-bg: hsl(0 0% 100%);
    --feature-card-text: hsl(240 10% 3.9%);
    --feature-icon-bg: hsl(0 0% 100%);
    --feature-icon-border: hsl(240 4.8% 95.9%);
    --feature-icon-text: hsl(240 3.8% 46.1%);

    /* Code color variables */
    --code-color: #0f172a;
    --code-bg-tint: color-mix(in srgb, var(--muted) 8%, transparent);
  }

  .dark {
    --background: 240 10% 3.9%;
    /* Zinc-950 */
    --foreground: 0 0% 98%;
    /* Zinc-50 */
    --card: 240 10% 3.9%;
    /* Zinc-950 */
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    /* Zinc-800 */
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    /* Zinc-400 */
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    /* Retro grid color */
    --grid-color: hsl(240 3.7% 15.9%);
    /* Zinc-800 */

    /* Feature Card Variables Dark */
    --feature-card-bg: hsl(240 10% 3.9% / 0.5);
    /* Zinc-950/50 */
    --feature-card-border: hsl(240 3.7% 15.9% / 0.6);
    /* Zinc-800/60 */
    --feature-card-hover-bg: hsl(240 5.9% 10%);
    /* Zinc-900 */
    --feature-card-text: hsl(0 0% 98%);
    --feature-icon-bg: hsl(240 5.9% 10%);
    /* Zinc-900 */
    --feature-icon-border: hsl(240 3.7% 15.9%);
    /* Zinc-800 */
    --feature-icon-text: hsl(240 5% 64.9%);
    /* Zinc-400 */

    --code-color: #93c5fd;
    /* soft sky blue for code in dark mode */
    --code-bg-tint: color-mix(in srgb, var(--muted) 6%, transparent);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground));
  border-radius: 4px;
  opacity: 0.3;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--foreground));
  opacity: 0.5;
}

/* Ergonomic Focus Ring */
:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 2px;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1.2;
  letter-spacing: -0.02em;
}

/* Improve MDX prose tables and pre/code readability */
.prose :where(table):not(:where([class~="not-prose"] *)) {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5rem 0;
  border-radius: 0.5rem;
  border: 1px solid hsl(var(--border));
  overflow: hidden;
}

.prose :where(th, td):not(:where([class~="not-prose"] *)) {
  border: 1px solid hsl(var(--border));
  padding: 0.75rem 1rem;
  text-align: left;
  vertical-align: top;
  /* Default table cell text: use full foreground for stronger contrast */
  color: hsl(var(--foreground));
}

.prose :where(thead):not(:where([class~="not-prose"] *)) {
  background: hsl(var(--muted));
}

.prose :where(thead th):not(:where([class~="not-prose"] *)) {
  color: hsl(var(--foreground));
  font-weight: 700;
  font-size: 0.875rem;
  letter-spacing: 0.02em;
  border-bottom: 2px solid hsl(var(--border));
}

.prose :where(tbody tr):not(:where([class~="not-prose"] *)) {
  border-bottom: 1px solid hsl(var(--border));
  transition: background-color 0.15s ease;
}

.prose :where(tbody tr:last-child):not(:where([class~="not-prose"] *)) {
  border-bottom: none;
}

.prose :where(tbody tr:nth-child(even)):not(:where([class~="not-prose"] *)) {
  background: color-mix(in srgb, hsl(var(--muted)) 8%, transparent);
}

.prose :where(tbody tr:hover):not(:where([class~="not-prose"] *)) {
  background: color-mix(in srgb, hsl(var(--muted)) 20%, transparent);
}

.prose :where(tbody td):not(:where([class~="not-prose"] *)) {
  font-size: 0.9375rem;
  /* Body cells use full foreground color for stronger contrast */
  color: hsl(var(--foreground));
}

/* Wrapper for responsive tables */
.prose :where(div:has(> table)):not(:where([class~="not-prose"] *)) {
  overflow-x: auto;
  margin: 1.5rem 0;
}

/* Make pre/code in prose more distinct and readable */
.prose pre {
  background: color-mix(in srgb, hsl(var(--muted)) 40%, hsl(var(--card)));
  border: 1px solid hsl(var(--border));
  padding: 1.25rem;
  border-radius: 0.5rem;
  overflow: auto;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Courier New", monospace;
  font-size: 0.875rem;
  line-height: 1.7;
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  margin: 1.5rem 0;
}

.prose pre code {
  background: transparent;
  padding: 0;
  color: hsl(var(--foreground));
  font-weight: 400;
  text-shadow: none;
}

.prose code {
  background: color-mix(in srgb, hsl(var(--muted)) 50%, transparent);
  padding: 0.2rem 0.4rem;
  border-radius: 0.3rem;
  font-size: 0.875em;
  border: 1px solid color-mix(in srgb, hsl(var(--border)) 50%, transparent);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Courier New", monospace;
  font-weight: 500;
}

/* Basic styles for rehype-highlight (adds .hljs classes) */
.hljs {
  background: transparent;
  color: inherit;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", "Courier New", monospace;
  font-size: 0.9rem;
  line-height: 1.6;
}

.hljs-comment,
.hljs-quote {
  color: hsl(var(--muted-foreground));
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #7c3aed;
  font-weight: 600;
}

.hljs-string,
.hljs-title,
.hljs-name,
.hljs-type {
  color: #059669;
}

.hljs-number,
.hljs-meta {
  color: #d97706;
}

@keyframes border-beam {
  100% {
    offset-distance: 100%;
  }
}

@keyframes grid {
  0% {
    transform: translateY(-50%);
  }

  100% {
    transform: translateY(0);
  }
}

@keyframes marquee {
  from {
    transform: translateX(0);
  }

  to {
    transform: translateX(calc(-100% - var(--gap)));
  }
}

@keyframes marquee-vertical {
  from {
    transform: translateY(0);
  }

  to {
    transform: translateY(calc(-100% - var(--gap)));
  }
}

.animate-marquee {
  animation: marquee 20s linear infinite;
}

.animate-marquee-vertical {
  animation: marquee-vertical 20s linear infinite;
}